<h2>Реализация тестового задания для FindSport</h2>
<p>Установка: стандартная для ларавеля. В целом, ничего публичного для проекта реализовано не было, так что можно ограничиться только разворачиванием репо и установкой миграций.
В репо две ветки:
<ul>
<li><b>start</b> - стартовые условия задачи. Был создан некий проект из задачи;</li>
<li><b>result</b> - реализация задачи, через дополнительные миграции</li>
</ul>
<p>Предположительно тестить надо так:
<ol>
<li>Разворачиваем репозиторий. Переключаемся на ветку start;</li>
<li>В .env прописываем доступы к базе данных;</li>
<li>Запускаем миграции с сидерами: <b>php artisan migrate --seed</b>. В результате получаем базу данных, аналогичную задаче;</li>
<li>Переключаемся на ветку result;</li>
<li>Запускаем миграции <b>php artisan migrate</b>. Результатом будут исправленные данные в бд.</li>
</ol></p>
</p>
<h2>Тестовое задание:</h2>
<p>
Есть клиенты `clients`, которые посещают занятия `sessions`. Их отметка о посещении хранится в таблице `session_members`. 
</p>
<p>
Занятия идут на постоянной основе, поэтому таблица `sessions` автоматически пополняется новыми занятиями каждый день на основе таблицы `session_configurations`, которая отвечает за то, как должны создаваться записи в таблице `sessions`. 
</p>
<p>
Так получилось, что в коде была допущена ошибка, из-за которой создались дубликаты записей в таблице занятий `sessions`, что привело уже к другой ошибке – клиенты были отмечены, как на занятиях оригиналах, так и на занятиях-дублях (см. данные в  `session_members`). 
</p>
<p>
Необходимо систему вернуть к её устойчивому состоянию, которое предполагает, что:
<ul>
<li>Может проходить только одно занятие в определённое время, созданное по определённой конфигурации. Не может быть такого, что в таблице  `sessions` есть несколько записей, у который `start_time` и `session_configuration_id` повторяются.</li>
<li>Клиент может быть отмечен только 1 раз на занятии. Не может быть такого, что в таблице `session_members` есть несколько записей, у которых `session_id` и `client_id` повторяются.</li>
</ul>
</p>
<p>
Для этого потребуется написать запрос SQL и/или PHP-код – на ваш выбор, т.е. вы можете написать всё на “чистом” SQL, а можете прибегнуть к использованию PHP, чтобы получать данные из БД и производить с ними манипуляция. После выполнения запросов в таблице `sessions` должны остаться только оригинальные занятия, т.е. все дубликаты должны удалиться. При этом, если на занятия-дубликаты уже были отмечены клиенты, то их отметки должны перенестись на занятия-оригиналы.
</p>
https://num213.notion.site/PHP-0b46383db47c4a5eb711d19b44640c74